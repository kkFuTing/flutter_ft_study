# Flutter 架构图

```mermaid
graph TB
    subgraph Framework["Framework (Dart)"]
        direction TB
        A[Material / Cupertino] --> B[Widgets]
        B --> C[Rendering]
        C --> D[Animation / Painting / Gestures]
        D --> E[Foundation]
    end
    
    subgraph Engine["Engine (C++)"]
        direction TB
        F[Skia] 
        G[Dart Runtime]
        H[Text]
    end
    
    E --> Engine
    
    style A fill:#4CAF50,color:#fff
    style B fill:#2196F3,color:#fff
    style C fill:#FF9800,color:#fff
    style D fill:#9C27B0,color:#fff
    style E fill:#607D8B,color:#fff
    style F fill:#795548,color:#fff
    style G fill:#795548,color:#fff
    style H fill:#795548,color:#fff
```

## 层级说明

| 层级 | 组件 | 说明 |
|------|------|------|
| **Framework (Dart)** | | |
| 顶层 | Material, Cupertino | UI 设计规范组件 |
| 组件层 | Widgets | 可组合的 UI 构建块 |
| 渲染层 | Rendering | 布局和绘制 |
| 基础层 | Animation, Painting, Gestures | 动画、绑定、手势 |
| 底层 | Foundation | 基础工具类和服务 |
| **Engine (C++)** | Skia, Dart, Text | 底层渲染引擎 |

## 详细架构图

```mermaid
flowchart TB
    subgraph App["Your App"]
        MyApp[MyApp]
    end
    
    subgraph Material["Material Design"]
        Scaffold
        AppBar
        Button[ElevatedButton]
        Card
    end
    
    subgraph Widgets["Widgets Layer"]
        StatelessWidget
        StatefulWidget
        InheritedWidget
    end
    
    subgraph Rendering["Rendering Layer"]
        RenderObject
        RenderBox
        Layout[Layout Protocol]
    end
    
    subgraph Foundation["Foundation Layer"]
        BuildContext
        State
        Key
    end
    
    subgraph Engine["Engine (C++)"]
        Skia[Skia Graphics]
        DartVM[Dart VM]
        Platform[Platform Channels]
    end
    
    MyApp --> Material
    Material --> Widgets
    Widgets --> Rendering
    Rendering --> Foundation
    Foundation --> Engine
    
    style App fill:#E8F5E9
    style Material fill:#C8E6C9
    style Widgets fill:#BBDEFB
    style Rendering fill:#FFE0B2
    style Foundation fill:#E1BEE7
    style Engine fill:#D7CCC8
```
