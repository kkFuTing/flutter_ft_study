# 刷题工具项目规划

## 目录结构建议
```
lib/
  main.dart                # 暂时仍引用示例菜单，后续可切换入口
  quiz_app/
    core/
      routes/              # 路由、导航守卫
      theme/
      utils/
    data/
      models/              # Question, Option, Tag, Paper 等
      repositories/
      datasources/         # 本地 sqflite / Hive / 网络
    services/
      import_service.dart  # Excel/CSV 解析
      image_service.dart   # 图片存储、压缩
    modules/
      question_bank/
        pages/             # 题库列表、题目详情、题库导入
        controllers/       # GetX / Provider
        widgets/
      practice/
        pages/             # 刷题、结果、错题本
        controllers/
      settings/
    widgets/               # 公共组件
```

## 功能拆分
1. **题库管理**
   - 列表、搜索、标签
   - 题目详情（题干 + 选项 + 图片 + 解析）
   - CRUD
2. **刷题模式**
   - 顺序、随机、错题、收藏
   - 计时、进度、统计
3. **导入/导出**
   - Excel/CSV 模板解析
   - 支持题干/选项/解析图片
   - 导入校验、错误提示
4. **数据存储**
   - 本地 sqflite：题干、选项、答案、图片路径
   - 图片统一存储在 `appDir/images/questions/`

## 数据模型草案
- `Question`
  - id, content, contentImagePath
  - type (single/multi/judge/fill)
  - options: List<Option>
  - answer, analysis, analysisImagePath
  - tags, difficulty
- `Option`
  - label, text, imagePath, isCorrect
- `ImportResult`
  - successCount, failCount, errors

## 导入流程
1. 用户选择 Excel/CSV
2. 解析 -> 预览 -> 校验
3. 若包含图片列：
   - 本地路径：复制至 app 专属目录
   - URL：下载保存
4. 成功写入数据库，显示统计

## 技术栈
- 状态管理：GetX
- 数据库：sqflite
- 文件解析：`excel` / `csv`
- 图片处理：`image_picker`、`file_picker`
- 依赖注入：Get.put / Bindings

## 下一步
1. 在 `lib/quiz_app/` 下创建上述结构
2. 实现 Question 数据模型 + Repository 接口
3. 搭建题库列表页面骨架
4. 实现表格导入服务（先文本、后图片）

